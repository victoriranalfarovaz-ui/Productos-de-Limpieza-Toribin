<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Productos de limpieza Toribin</title>
  <style>
  :root{
    --bg:#07afb5;
    --card:#2451db;
    --text:#f9f9fb;
    --muted:#fefefe;
    --border:#ffffff;
    --primary:#ff6e6e;
    --danger:#ff6b6b;
    --ok:#f4f8f7;
  }

  *{ box-sizing:border-box; }
  body{
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: radial-gradient(1200px 600px at 20% 0%, #182035 0%, var(--bg) 55%);
    color:var(--text);
    margin:0;
    padding:20px;
  }

  .container{
    max-width: 980px;
    margin: 0 auto;
  }

  header{
    display:flex;
    justify-content:space-between;
    align-items:flex-start;
    gap:12px;
    margin-bottom: 12px;
  }

  h1{
    margin:0;
    font-size: 28px;
    letter-spacing: .2px;
  }

  h2{
    margin: 18px 0 10px;
    font-size: 18px;
    color: var(--text);
  }

  .muted{ color: var(--muted); }

  .row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    flex-wrap: wrap;
  }

  .pill{
    padding: 6px 12px;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: rgba(255,255,255,.03);
    color: var(--text);
  }

  .card{
    border: 1px solid var(--border);
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border-radius: 16px;
    padding: 14px;
    box-shadow: 0 10px 30px rgba(0,0,0,.25);
  }

  .grid{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 14px;
    margin-top: 12px;
  }

  .price{ font-weight: 800; }

  button{
    border: 1px solid var(--border);
    background: rgba(255,255,255,.05);
    color: var(--text);
    padding: 10px 12px;
    border-radius: 12px;
    cursor:pointer;
    transition: transform .05s ease, background .15s ease, border-color .15s ease;
  }
  button:hover{
    background: rgba(255,255,255,.09);
    border-color: rgba(110,231,255,.35);
  }
  button:active{ transform: translateY(1px); }

  .btn-primary{
    border-color: rgba(110,231,255,.35);
    background: rgba(110,231,255,.12);
  }
  .btn-danger{
    border-color: rgba(255,107,107,.35);
    background: rgba(255,107,107,.12);
  }

  input, textarea, select{
    width: 100%;
    padding: 10px 12px;
    border-radius: 12px;
    border: 1px solid var(--border);
    background: rgba(0,0,0,.25);
    color: var(--text);
    outline: none;
  }
  input::placeholder, textarea::placeholder{ color: rgba(169,176,195,.7); }

  #carrito{ margin-top: 18px; }

  .item{
    display:grid;
    grid-template-columns: 1fr auto auto auto;
    gap: 10px;
    align-items:center;
    padding: 12px 0;
    border-bottom: 1px solid rgba(255,255,255,.06);
  }
  .item:last-child{ border-bottom: none; }

  .qtyBtns{ display:flex; gap:8px; align-items:center; }

  .totalBox{
    margin-top: 12px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap: 10px;
    flex-wrap: wrap;
  }

  /* Mobile */
  @media (max-width: 520px){
    body{ padding: 14px; }
    h1{ font-size: 22px; }
    .item{ grid-template-columns: 1fr auto; grid-auto-rows: auto; }
    .item > div:nth-child(3),
    .item > div:nth-child(4){ justify-self: end; }
  }

  .product-img{
  width: 100%;
  height: 160px;
  object-fit: contain;
  background: #ffffff;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.08);
  padding: 10px;
  margin-bottom: 10px;
}

.product-img{
  cursor: pointer;
  transition: transform .2s ease, box-shadow .2s ease;
}

.product-img:hover{
  transform: scale(1.03);
  box-shadow: 0 10px 30px rgba(0,255,240,.25);
}

.btn-soft{
  opacity: .75;
}
.btn-soft:hover{
  opacity: 1;
}

/* Advertencia al pasar el mouse */
.btn-warning:hover{
  box-shadow: 0 0 0 2px rgba(255, 80, 80, 0.9);
}    
    
.icon-badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width: 34px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
}

.card{
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}

.card:hover{
  transform: translateY(-4px);
  box-shadow: 0 20px 40px rgba(0,0,0,.4);
  border-color: rgba(110,231,255,.4);
}

.tag{
  font-size: 12px;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--muted);
}

.tag {
  transition: all 0.25s ease;
}

.tag:hover {
  transform: scale(1.08);
  box-shadow: 0 6px 20px rgba(0, 255, 240, 0.35);
}


.tag.limpieza{
  background: rgba(0, 210, 200, 0.25);
  color: #eaffff;
  border: 1px solid rgba(0, 210, 200, 0.5);
}
.tag.ropa{
  background: rgba(0, 210, 200, 0.25);
  color: #eaffff;
  border: 1px solid rgba(0, 210, 200, 0.5);
}
.tag.suavizante{
  background: rgba(0, 210, 200, 0.25);
  color: #eaffff;
  border: 1px solid rgba(0, 210, 200, 0.5);
}

.tag.limpieza:hover,
.tag.ropa:hover,
.tag.suavizante:hover {
  background: rgba(0, 255, 240, 0.45);
}


</style>

</head>
<body>
  <div class="container">


  <header>
    <div>
      <h1>Productos de limpieza Toribin </h1>
      <div class="muted">Tenemos los mejores productos para limpieza del hogar o auto</div>
    </div>
    <div class="pill">Carrito: <span id="contador">0</span></div>
  </header>

  <div class="row" style="justify-content:flex-start; gap:8px; margin-top:10px;">
  </div>


  <section id="vistaCliente">
  <div class="row" style="margin-top: 16px;">
  <h2 style="margin:0;">Productos</h2>

  <input
    id="buscador"
    type="search"
    placeholder="Buscar (ej. detergente, ropa, clarasol...)"
    style="max-width: 360px;"
  />
</div>

<div class="grid" id="lista-productos"></div>


  <section id="carrito">
    <h2>Carrito</h2>
    <div id="carrito-items" class="card"></div>

    <div class="totalBox">
      <strong>Total: $<span id="total">0.00</span></strong>
      <button id="vaciar" class="btn-primary btn-soft btn-warning">Vaciar carrito</button>
    </div>

    <div style="margin-top: 12px;">
      <button id="checkout" class="btn-primary">Finalizar compra</button>
    </div>

    <!-- FORM CHECKOUT -->
    <div id="checkout-form" class="card" style="margin-top: 12px; display: none;">
      <h3 style="margin-top: 0;">Datos de entrega</h3>

      <label>Nombre</label><br>
      <input id="nombre" type="text"
        style="width: 100%; padding: 10px; margin: 6px 0 12px;"
        placeholder="Tu nombre" />

      <label>Teléfono</label><br>
      <input id="telefono" type="tel"
        style="width: 100%; padding: 10px; margin: 6px 0 12px;"
        placeholder="Ej. 55 1234 5678" />

      <label>Dirección</label><br>
      <textarea id="direccion" rows="3"
        style="width: 100%; padding: 10px; margin: 6px 0 12px;"
        placeholder="Calle, número, colonia, referencias..."></textarea>

      <div class="row">
       <button id="confirmar" type="button" class="btn-primary">Confirmar pedido</button>
       <button id="cancelar" type="button">Cancelar</button>
      </div>
    </div>
  </section>
</section> <!-- fin vistaCliente -->
<script>
const WHATSAPP_NEGOCIO = "525642341448";

let carrito = [];
let folio = 1;

// ================== PRODUCTOS ==================
const productos = [
  { id: 1, nombre: "Clarasol Multiusos", precio: 8, desc: "Clarasol multiusos 1lt", img: "img/clarasol.jpg" },
  { id: 2, nombre: "Detergente Ropa Color", precio: 18, desc: "Detergente ropa color", img: "img/detergente-color.jpg" },
  { id: 3, nombre: "Detergente Ropa Blanca", precio: 18, desc: "Detergente ropa blanca", img: "img/detergente-blanco.jpg" },
  { id: 4, nombre: "Enjuague Ropa Color", precio: 18, desc: "Enjuague ropa color", img: "img/enjuague.jpg" },
];

// ================== CARRITO ==================
function renderProductos() {
  const lista = document.getElementById("lista-productos");
  lista.innerHTML = "";

  productos.forEach(p => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <img class="product-img" src="${p.img}">
      <h3>${p.nombre}</h3>
      <p>${p.desc}</p>
      <strong>$${p.precio.toFixed(2)}</strong><br>
      <button onclick="agregar(${p.id})">Agregar</button>
    `;
    lista.appendChild(div);
  });
}

function agregar(id) {
  const p = productos.find(x => x.id === id);
  const existe = carrito.find(i => i.id === id);

  if (existe) existe.cantidad++;
  else carrito.push({ ...p, cantidad: 1 });

  renderCarrito();
}

function renderCarrito() {
  const el = document.getElementById("carrito-items");
  const totalEl = document.getElementById("total");
  el.innerHTML = "";

  let total = 0;

  carrito.forEach(i => {
    total += i.precio * i.cantidad;
    el.innerHTML += `<div>${i.nombre} x${i.cantidad}</div>`;
  });

  totalEl.textContent = total.toFixed(2);
}

// ================== CHECKOUT ==================
document.getElementById("checkout").onclick = () => {
  document.getElementById("checkout-form").style.display = "block";
};

document.getElementById("confirmar").onclick = () => {
  if (carrito.length === 0) return alert("Carrito vacío");

  const texto = carrito.map(i => `- ${i.nombre} x${i.cantidad}`).join("\n");
  window.open(`https://wa.me/${WHATSAPP_NEGOCIO}?text=${encodeURIComponent(texto)}`);
  carrito = [];
  renderCarrito();
};

// ================== INIT ==================
renderProductos();
renderCarrito();
</script>

</div> <!-- cierre de .container -->
</body>
</html>
